<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/core-media-query/core-media-query.html">
<link rel="import" href="../components/code-explainer/code-explainer.html">
<link rel="import" href="../components/paper-button/paper-button.html">
<link rel="import" href="demo-tabs.html">

<polymer-element name="learn-tabs">
  <template>
    <style>
      :host {
        color: #1f2036;
      }
      .card {
        background-color: #f8f8f8;
      }
      .card h2 {
        font-weight: 300;
        letter-spacing: -0.01em;
        line-height: 48px;
        margin: 0;
      }
      .card .summary {
        padding: 16px;
      }
      .card a {
        text-decoration: none;
        color: inherit;
      }
      .card iframe {
        border: 0;
        width: 400px;
        min-height: 280px;
      }
      iframe.stretch {
        width: 100%;
      }
    </style>
    <core-media-query query="min-width: 640px" queryMatches="{{wide}}"></core-media-query>
    <demo-tabs theme="dark" style="width:100%;">
      <demo-tab heading="{{wide ? 'Use Elements (10 sec) ➜' : 'Use ➜'}}">
        <code-explainer label="How to use Polymer elements">
          <script type="text/template">
            <head>
              <!-- Import element -->
              [start-create]&lt;link rel="import" href="google-map.html"&gt;[end-use]
            </head>
            <body>
              <!-- Use element -->
              [start-use]<google-map lat="37.790" long="-122.390"></google-map>[end-create]
            </body>
          </script>
          <div>Using Polymer elements (like all web components) is an absurdly simple 2-step process:</div>
          <code-explainer-info sec="create" label="1. Import a component you'd like to use">
            Find a component, grab the code, and simply import the component into your page using
            an HTML Import (<code>&lt;link rel="import"&gt;</code>).
          </code-explainer-info>
          <code-explainer-info sec="use" label="2. Use the new element">
            Once imported, custom elements become first-class HTML elements and can be used like any other tag.
          </code-explainer-info>
        </code-explainer>
      </demo-tab>
      <demo-tab heading="{{wide ? 'Create Elements (1 min) ➜' : 'Create ➜' }}">
        <code-explainer label="How to create custom elements with Polymer">
          <script type="text/template">
            <!-- Define element -->
            [start-def]<polymer-element name="my-counter" [start-publish]attributes="counter">[end-publish][end-def]
              [start-scope]<template>[end-scope]
                <style> /*...*/ </style>
                <div id="label"><content></content></div>
                Value: <span [start-nodefind]id="counterVal"[end-nodefind]>[start-data]&#123;&#123;counter&#125;&#125;[end-data]</span><br>
                <button [start-events]on-tap="&#123;&#123;increment&#125;&#125;[end-events]">Increment</button>
              [start-scope]</template>[end-scope]
              <script>
                Polymer({
                  [start-publish][start-data]counter[end-data]: 0[end-publish], // Default value
                  [start-publish]counterChanged[end-publish]: function() {
                    [start-nodefind]this.$.counterVal[end-nodefind].classList.add('highlight');
                  },
                  [start-events]increment[end-events]: function() {
                    this.counter++;
                  }
                });
              &lt;/script>
            [start-def]</polymer-element>[end-def]

            <!-- Use element -->
            <my-counter [start-publish]counter="10"[end-publish]>[start-content]Points[end-content]</my-counter>
          </script>
          <div>Polymer sugars the new Web Components standards with awesome features to make
            defining your own custom elements a breeze:</div>
          <code-explainer-info sec="def" label="Declarative custom element definition">
            Polymer allows you to define new custom elements declaratively using <code>&lt;polymer-element&gt;</code>
          </code-explainer-info>
          <code-explainer-info sec="scope" label="Markup and style encapsulation">
            Polymer uses Shadow DOM to encapsulate your element's internals.  Template markup is 
            compartmentalized, and styles don't leak in or out.
          </code-explainer-info>
          <code-explainer-info sec="publish" label="Published properties">
            Properties that are "published" can be initialized via markup and invoke change 
            handlers when modified.
          </code-explainer-info>
          <code-explainer-info sec="data" label="Declarative data binding">
            Properties on the element can be bound directly into the view, with robust support for
            expressions.
          </code-explainer-info>
          <code-explainer-info sec="events" label="Declarative event binding">
            Event handlers can be bound to functions on the element declaratively using 
            <code>on-<i>event</i></code> attributes.
          </code-explainer-info>
          <code-explainer-info sec="nodefind" label="Automatic node finding">
            Any template children can be referenced by <code>id</code> on <code>this.$</code>, eliminating
            boilerplate querySelector's.
          </code-explainer-info>
        </code-explainer>
      </demo-tab>
      <demo-tab heading="{{wide ? 'Build an app (30 min)' : 'Tutorial' }}">
        <div class="card">
          <div layout horizontal?="{{wide}}" vertical?="{{!wide}}">
            <div class="summary" flex layout vertical>
              <h2>Build an app</h2>
              <div flex>
                <p>In this tutorial, you'll build a small Polymer application -- a very basic client for a social networking service like the one at right.  It'll give you a good feel for both using pre-made
                Polymer elements, and building custom elements of your own.</p>
                <a href="/docs/start/tutorial/intro.html"><paper-button raisedButton icon="arrow-forward" label="Go to tutorial"></paper-button></a>
                <p>If you'd rather keep reading, head to the Polymer docs page to dive deeper.</p> 
                <a href="/docs/start/usingelements.html"><paper-button raisedButton icon="arrow-forward" label="Go to documentation"></paper-button></a>
              </div>
            </div>
            <iframe src="/samples/tutorial/finished/index.html" class="{{ {stretch:!wide} | tokenList }}"></iframe>
          </div>
        </div>
      </demo-tab>
    </demo-tabs>
  </template>
  <script>
    Polymer('learn-tabs', {
    });
  </script>
</polymer-element>